# Upload server proxy
# Add this block BEFORE the general /api proxy block in your Nginx site config.
#
# Example placement:
#   server {
#       listen 443 ssl;
#       ...
#
#       # Upload endpoint (must come before /api)
#       location /api/uploads { ... }
#
#       # General API proxy
#       location /api { ... }
#
#       # Frontend static files
#       location / { ... }
#   }

location /api/uploads {
    client_max_body_size 10m;

    proxy_pass http://127.0.0.1:3100;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;

    proxy_read_timeout 120s;
    proxy_send_timeout 120s;
}
